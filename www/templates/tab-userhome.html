

<ion-side-menus>
	<ion-side-menu-content>
	<ion-header-bar align-title="left" class="bar-positiveHomeUser" style="background-color:{{brandColor}};border-color:{{brandColor}};{{backgroundimage}};">

		<div class="buttons {{menuicon}}" >
			<!--<button class="button icon button-clear ion-navicon-round UserHomeIcon {{menuicon}}" id="BackButtonIcon" style="{{MenuIconBottom}}" ng-click="toggleLeft()" ></button>-->
			<span class="button icon button-clear UserHomeIcon {{menuicon}}" id="BackButtonIcon" style="{{MenuIconBottom}}" ng-click="toggleLeft()"><i ng-bind-html="drawSVGCIcon('menu')"></i></span>
		</div>


		<h1 class="{{title_patient}} {{HeaderList}} {{intakeTittle}} userhomePlusIcon">
			<div class="Server_Error ErrorMessageDiv" ></div>
	 		<div id="Error_Message"></div
			<span> Patient list </span>
	</h1>
		<a ng-if="cobrandApp_New != 'MDAmerica' && deploymentEnv_New != 'Single'" class="add-user-icon add-user-icon-{{deviceName}}" ng-if="customerSso != 'Mandatory'" ng-click = "GoToPatientDetails(location,PatientImage,primaryPatientName,primaryPatientLastName,dob,primaryPatientGuardianName,primaryPatientId,true,'tab.addnewuser')" _ng-href="#/tab/addnewuser" ><i class="icon ion-plus"></i></a>


			<div class="bar bar-subheaderHomeUser subHeaderTop UserNeeds">
				<div class="TitleHomeUser_Sub" id="WhoNeeds">Who Needs Care Today?</div>

					<div class="SearchImage" ng-click="showSearchInput();">
						<i class="ion-search" style="float: right; font-size: 23px;color: #666666;"></i>
					</div>
			</div>


	</ion-header-bar>




<ion-view title="User Home">
<div id="divSearchInput" class="UserHme userSearch-{{deviceName}}" style="display: none;">
	<div  class="UserHmeSub-{{deviceName}}">
        <label class="item-input"  ><i style="display: {{homeMagnifyDisplay}}" class="iconfontSVG userhmeSeach" ng-bind-html="drawSVGCIcon('magnifying-glass')"></i>
            <input type="search" placeholder="Search" id="searchQuery" ng-model="data.searchQuery"  >
        </label>
	</div>
</div>


<ion-content class="ContentUserHome UserHme" ng-controller="LoginCtrl" ng-init="loadDependent(); doRefreshUserHome()" >
 	<ion-list>

	<div><ion-refresher on-refresh="doRefreshUserHome()"  >
    </ion-refresher></div>

	<a ng-if="primaryPatientName != ''" class="UserHomePatient"  ng-click = "GoToPatientDetails(location,PatientImage,primaryPatientName,primaryPatientLastName,dob,primaryPatientGuardianName,primaryPatientId,true, 'patientClick')">
		<ion-item class="UserHomeHeader" ng-hide="data.searchQuery" style="border: none; top: -2px;border-bottom: 1px solid #9D9E9C;">
			 <div class="HrefListView">
				<div class="UserhmePatientDetails">
				<!--	<img ng-src="{{PatientImage}}" src="{{PatientImage}}" class="UserHmelistImgView">-->
					<div class="userHomeImageMainPat" ng-bind-html="drawImage(PatientImage,primaryPatientName,primaryPatientLastName)"></div>
					<div class= "ListTextTitle ellipsis userHomeFullName" > <b class="ng-binding firstname">{{primaryPatientName}} </b><span class="SubTitleSpan ellipsis"> {{primaryPatientLastName}}</span></div>
					<!--<p class="ListText listTitle" style="font-size: 24px;overflow: auto;"><b>Login Details Welcome</b> <span class="SubTitleSpan">Sathiendran <span></p> -->
					<p class="ListHomeUser_pTitle DateFormateStyle"><span ng-if="primaryPatGender != ''">{{primaryPatGender}} . </span>{{dob | ageFilter}} <!--<span ng-if="primaryPatientGuardianName"> | Guardain : {{primaryPatientGuardianName}}</span>--></p>
					<!--<list class="ion-chevron-right ListLinkHref UserHomeIcon"></list>-->
					<i class="iconfontSVG ListLinkHref UserHomeIcon" ng-bind-html="drawSVGCIcon('chevron-right')"></i>
				</div>
			 </div>
		 </ion-item>
	</a>
			 <div style="display: none;"><timer end-time="time"></timer></div>

			<div class="inside"></div>
			<ion-item  class="UserHomeNextAppointment ItemList outside" ng-hide="data.searchQuery" ng-repeat="scheduledListData in primaryAppointDetails"  ng-click="GoToappoimentDetailsFromUserHome(scheduledListData, 'userHome')" ng-if="$first" style="background-color: {{scheduledListData.userHomeRecentAppointmentColor}}; border-top: none; display: {{scheduledListData.nextAppointmentDisplay}}; margin-bottom: 17px;" >
				<a class="HrefListView"  >
					 <h2>
								<i ng-if="scheduledListData.encounterTypeCode == 3" ng-bind-html="drawSVGCIcon('video_camera')" class="ng-binding">
									<svg class="iconImg-video_camera"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="symbol-defs.svg#icon-video_camera"></use></svg>
								</i>
								<i ng-if="scheduledListData.encounterTypeCode != 3" ng-bind-html="drawSVGCIcon('phone')" class="ng-binding" style="font-size: 30px;">
									<svg class="iconImg-phone"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="symbol-defs.svg#icon-phone"></use></svg>
								</i>
							 <span style="top: -7px;position: relative;padding-left: 5px;">Appt @  <b>{{scheduledListData.scheduledTime | date: "hh:mm a" | lowercase}}</b></span>
					</h2>
				   <list class="ion-chevron-right ListLinkHref nextList" style="top: -7px !important; position: relative !important; font-size: 22px  !important;"></list>
				   <span ng-if="scheduledListData.appointmentStatusCode == 'Waiting'" class="DateFormateStyle AppointmentView" style="top: -5px; position: relative;">In queue</span>
					 <span ng-if="scheduledListData.appointmentStatusCode != 'Waiting'" class="DateFormateStyle AppointmentView" style="top: -5px; position: relative;">View Details</span>

			    </a>
			</ion-item>




	<!--<ion-item class="UserHomeNextAppointment ItemList" ng-hide="data.searchQuery" ng-click="GoToPatientDetails()">
			<a class="HrefListView"  >
			   <span class = "ListText UHomeNextAppoinment">Next Appointment:</span>
			   <h2 class="DateFormateStyle"><b>OCT 12 </b> <span class="NextAppointTime"><sup>@</sup></span> <b>12:15</b><span class="NextAppointAMorPM">PM</span></h2>
			   <list class="ion-chevron-right ListLinkHref nextList"></list>
			   <span class="DateFormateStyle AppointmentView" >View Details</span>
		    </a>
		</ion-item>-->




		<div style="top: -2px;" ng-repeat="dependentDetails in (filteredResult = (RelatedPatientProfiles | filter: data.searchQuery))" ng-if="dependentDetails.isAuthorized !== false" >
			<div class="DependentList item">
			 <div class="HrefListViewDependent"  ng-click= "GoToPatientDetails(location,dependentDetails.profileImagePath,dependentDetails.patientFirstName,dependentDetails.patientLastName,dependentDetails.birthdate,dependentDetails.guardianName,dependentDetails.patientId, dependentDetails.isAuthorized, 'patientClick')">
				<div class="UserhmePatientDetails">
					<!--	<img ng-src="{{dependentDetails.profileImagePath}}" src="{{dependentDetails.profileImagePath}}" class="UserHmelistImgView">-->
				<div class="userHomeImage" ng-bind-html="drawImage(dependentDetails.profileImagePath,dependentDetails.patientFirstName,dependentDetails.patientLastName)"></div>
					<div class= "ListTextTitle ellipsis userHomeFullName" ><b>{{dependentDetails.patientFirstName}} </b> <span class="SubTitleSpan">{{dependentDetails.patientLastName}}</span></div>
					<p class="ListHomeUser_pTitle DateFormateStyle"><span ng-if="dependentDetails.gender != ''">{{dependentDetails.gender}} .</span> {{dependentDetails.birthdate | ageFilter}} <span ng-if="dependentDetails.depRelationShip != ''">. {{dependentDetails.depRelationShip}} </span><!--<span ng-if="primaryPatientId != dependentDetails.patientId">| Guardian : {{dependentDetails.guardianName}}</span>--></p>
					<!--<list class="ion-chevron-right ListLinkHref UserHomeIcon"></list>-->
						<i class="iconfontSVG ListLinkHref UserHomeIcon" ng-bind-html="drawSVGCIcon('chevron-right')"></i>
				</div>
			</div>
		</div>
		<div class="inside1"></div>
			<div ng-if="dependentDetails.patientId == dependentDetails.appoint.patientId" style="background-color: {{dependentDetails.appoint.userHomeRecentAppointmentColor}}; border-top: none; display: {{dependentDetails.appoint.nextAppointmentDisplay}}; margin-bottom: 17px;"  class="UserHomeNextAppointment1 ItemList outside" ng-hide="data.searchQuery"  ng-click="GoToappoimentDetailsFromUserHome(dependentDetails.appoint, 'userHome')" >
				<a class="HrefListView"  >
					<h2>
						 <i ng-if="dependentDetails.appoint.encounterTypeCode == 3" ng-bind-html="drawSVGCIcon('video_camera')" class="ng-binding">
							 <svg class="iconImg-video_camera"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="symbol-defs.svg#icon-video_camera"></use></svg>
						 </i>
						 <i ng-if="dependentDetails.appoint.encounterTypeCode != 3" ng-bind-html="drawSVGCIcon('phone')" class="ng-binding" style="font-size: 30px;">
							 <svg class="iconImg-phone"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="symbol-defs.svg#icon-phone"></use></svg>
						 </i>
						<span style="top: -7px;position: relative;padding-left: 5px;">Appt @  <b>{{dependentDetails.appoint.scheduledTime | date: "hh:mm a" | lowercase}}</b></span>
				 </h2>
					<list class="ion-chevron-right ListLinkHref nextList" style="top: -13px !important; position: relative !important; font-size: 22px  !important;"></list>
					<span ng-if="dependentDetails.appoint.appointmentStatusCode == 'Waiting'" class="DateFormateStyle AppointmentView" style="top: -10px; position: relative;">In queue</span>
					<span ng-if="dependentDetails.appoint.appointmentStatusCode != 'Waiting'" class="DateFormateStyle AppointmentView" style="top: -10px; position: relative;">View Details</span>
				 </a>
			</div>
		</div>

		<ion-item ng-if="searched == true && filteredResult == ''" class="noResult" > Search result not found! </ion-item>
		<div ng-controller="appoimentDetailsCtrl">
		</div>
		<i style="visibility:hidden;" class="iconfontSVG" ng-bind-html="drawSVGCIconForVideo('video_camera_mute')"></i>
		<i style="visibility:hidden;" class="iconfontSVG" ng-bind-html="drawSVGCIconForVideo('cross')"></i>

	</ion-list>
</ion-content>
</ion-side-menu-content>
 <!--Side Menu File Include --->
	<!--<ion-side-menu side="left" style="background-color: #464644;">
        <a ng-click="toggleLeft()" class="sidemenuContent" >
			<ion-list>
				<ion-item class="ion-ios-list" id="{{sidemenuHome}}">
					<span>  Patient List</span>
				</ion-item>
			</ion-list>
		</a>
       <a ng-click="ClearRootScope()" class="SidemenuLogOut" >
			<ion-list>
				<ion-item class="ion-power LogOutText" >
					<span>  Logout</span>
				</ion-item>
			</ion-list>
        </a>



	</ion-side-menu>
</ion-side-menus>-->

<div ng-include src="'templates/primaryPatientSideMenu.html'"></div>

</ion-side-menus>


</ion-view>
